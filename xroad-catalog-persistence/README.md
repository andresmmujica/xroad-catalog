# xroad-catalog-persistence
Persistence library for xroad-catalog


## Create database
```sh
sudo -u postgres psql --file=src/main/sql/init_database.sql
sudo -u postgres psql --file=src/main/sql/create_tables.sql
```

## Build
```sh
gradle clean build
```

## Profiles
There are two spring boot profiles. 
Default profile connects to in-memory H2 database. 
This has schema autogenerated based on JPA entities, and data populated from data.sql.
"Production" profile connects to a real PostgreSQL instance (currently defined in src/main/resources/application-production.properties)
and does not autocreate anything.

## Run
```sh
gradle bootRun
```
or
```sh
gradle bootRun -Dspring.profiles.active=production
```

## Test

```sh
gradle test
```


